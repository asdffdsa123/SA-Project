package de.hswt.bp4553.swa.projekt.androidclient;

import java.io.IOException;

import android.os.AsyncTask;
import android.widget.Toast;
import de.hswt.bp4553.swa.projekt.model.Registration;
import de.hswt.bp4553.swa.projekt.socket.SocketClient;

public class SaveTask extends AsyncTask<Object, Object, Boolean>{
	
	private final Registration reg;
	private final MainActivity activity;
	private final SocketClient client;
	
	public SaveTask(MainActivity activity, Registration reg, SocketClient client){
		this.activity = activity;
		this.reg = reg;
		this.client = client;
	}

	@Override
	protected Boolean doInBackground(Object... params) {
		try {
			client.register(reg);
		} catch (IOException e) {
			Toast.makeText(activity, "Fehler beim Verbinden mit dem Server", Toast.LENGTH_SHORT).show();
		}
		return true;
	}

}
